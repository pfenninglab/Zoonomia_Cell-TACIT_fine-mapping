Running cyclical learning rate for OPC_hgRmMm_enhVsNonEnhOrth.
One-cycle policy training for 23 epochs.
Learning rates range: 0.01 - 0.1.
Momentum rates range: 0.85 - 0.99.
Dropout: 0.05.
In training mode.
Model exists w/o permission to overwrite. Use --force to overwrite.
2021-02-14 22:10:17.407556: F ./tensorflow/core/kernels/random_op_gpu.h:232] Non-OK-status: GpuLaunchKernel(FillPhiloxRandomKernelLaunch<Distribution>, num_blocks, block_size, 0, d.stream(), gen, data, size, dist) status: Internal: out of memory
/var/spool/slurmd/job1015543/slurm_script: line 55: 26997 Aborted                 python train_singleTask_CNN_classifier_OCP.py --mode 'evaluate' --out_dir $DATADIR --conv_width 11 --l2_reg $L2_REG --dropout $DROPOUT --batch_size $BATCH_SIZE --epochs $EPOCHS --numCycles $NUM_CYCLES --base_lr $BASE_LR --max_lr $MAX_LR --base_m $BASE_M --max_m $MAX_M --verbose 2 --cyclical_momentum --train_fasta_pos $TRAINPOSFILE --train_fasta_neg $TRAINNEGFILE --valid_fasta_pos $VALIDPOSFILE --valid_fasta_neg $VALIDNEGFILE $LABEL
Running cyclical learning rate for OPC_hgRmMm_enhVsNonEnhOrth.
One-cycle policy training for 23 epochs.
Learning rates range: 0.01 - 0.1.
Momentum rates range: 0.85 - 0.99.
Dropout: 0.1.
In training mode.
Model exists w/o permission to overwrite. Use --force to overwrite.
2021-02-14 22:10:46.913567: F ./tensorflow/core/kernels/random_op_gpu.h:232] Non-OK-status: GpuLaunchKernel(FillPhiloxRandomKernelLaunch<Distribution>, num_blocks, block_size, 0, d.stream(), gen, data, size, dist) status: Internal: out of memory
/var/spool/slurmd/job1015543/slurm_script: line 55: 27057 Aborted                 python train_singleTask_CNN_classifier_OCP.py --mode 'evaluate' --out_dir $DATADIR --conv_width 11 --l2_reg $L2_REG --dropout $DROPOUT --batch_size $BATCH_SIZE --epochs $EPOCHS --numCycles $NUM_CYCLES --base_lr $BASE_LR --max_lr $MAX_LR --base_m $BASE_M --max_m $MAX_M --verbose 2 --cyclical_momentum --train_fasta_pos $TRAINPOSFILE --train_fasta_neg $TRAINNEGFILE --valid_fasta_pos $VALIDPOSFILE --valid_fasta_neg $VALIDNEGFILE $LABEL
Running cyclical learning rate for OPC_hgRmMm_enhVsNonEnhOrth.
One-cycle policy training for 23 epochs.
Learning rates range: 0.01 - 0.1.
Momentum rates range: 0.85 - 0.99.
Dropout: 0.15.
In training mode.
Model exists w/o permission to overwrite. Use --force to overwrite.
2021-02-14 22:11:16.169582: F ./tensorflow/core/kernels/random_op_gpu.h:232] Non-OK-status: GpuLaunchKernel(FillPhiloxRandomKernelLaunch<Distribution>, num_blocks, block_size, 0, d.stream(), gen, data, size, dist) status: Internal: out of memory
/var/spool/slurmd/job1015543/slurm_script: line 55: 27109 Aborted                 python train_singleTask_CNN_classifier_OCP.py --mode 'evaluate' --out_dir $DATADIR --conv_width 11 --l2_reg $L2_REG --dropout $DROPOUT --batch_size $BATCH_SIZE --epochs $EPOCHS --numCycles $NUM_CYCLES --base_lr $BASE_LR --max_lr $MAX_LR --base_m $BASE_M --max_m $MAX_M --verbose 2 --cyclical_momentum --train_fasta_pos $TRAINPOSFILE --train_fasta_neg $TRAINNEGFILE --valid_fasta_pos $VALIDPOSFILE --valid_fasta_neg $VALIDNEGFILE $LABEL
Running cyclical learning rate for OPC_hgRmMm_enhVsNonEnhOrth.
One-cycle policy training for 23 epochs.
Learning rates range: 0.01 - 0.1.
Momentum rates range: 0.85 - 0.99.
Dropout: 0.2.
In training mode.
Model exists w/o permission to overwrite. Use --force to overwrite.
2021-02-14 22:11:45.760579: F ./tensorflow/core/kernels/random_op_gpu.h:232] Non-OK-status: GpuLaunchKernel(FillPhiloxRandomKernelLaunch<Distribution>, num_blocks, block_size, 0, d.stream(), gen, data, size, dist) status: Internal: out of memory
/var/spool/slurmd/job1015543/slurm_script: line 55: 27162 Aborted                 python train_singleTask_CNN_classifier_OCP.py --mode 'evaluate' --out_dir $DATADIR --conv_width 11 --l2_reg $L2_REG --dropout $DROPOUT --batch_size $BATCH_SIZE --epochs $EPOCHS --numCycles $NUM_CYCLES --base_lr $BASE_LR --max_lr $MAX_LR --base_m $BASE_M --max_m $MAX_M --verbose 2 --cyclical_momentum --train_fasta_pos $TRAINPOSFILE --train_fasta_neg $TRAINNEGFILE --valid_fasta_pos $VALIDPOSFILE --valid_fasta_neg $VALIDNEGFILE $LABEL
Running cyclical learning rate for OPC_hgRmMm_enhVsNonEnhOrth.
One-cycle policy training for 23 epochs.
Learning rates range: 0.01 - 0.1.
Momentum rates range: 0.85 - 0.99.
Dropout: 0.25.
In training mode.
There 164974 positives and 145248 negatives.
Traceback (most recent call last):
  File "train_singleTask_CNN_classifier_OCP.py", line 295, in <module>
    main(args)
  File "train_singleTask_CNN_classifier_OCP.py", line 200, in main
    (x_train, y_train, ids_train) = encode_sequence(args.train_fasta_pos, args.train_fasta_neg, size = args.seq_length, shuffleOff = False)
  File "/projects/pfenninggroup/machineLearningForComputationalBiology/snATAC_cross_species_caudate/code/raw_code/cnn_enhancer_ortholog/cnn_utils.py", line 57, in encode_sequence
    ids = ids[indices]
TypeError: only integer scalar arrays can be converted to a scalar index
Running cyclical learning rate for OPC_hgRmMm_enhVsNonEnhOrth.
One-cycle policy training for 23 epochs.
Learning rates range: 0.01 - 0.1.
Momentum rates range: 0.85 - 0.99.
Dropout: 0.25.
In evaluation mode.
No model found with specified training parameters. Please train model first.
Running cyclical learning rate for OPC_hgRmMm_enhVsNonEnhOrth.
One-cycle policy training for 23 epochs.
Learning rates range: 0.01 - 0.1.
Momentum rates range: 0.85 - 0.99.
Dropout: 0.3.
In training mode.
There 164974 positives and 145248 negatives.
Traceback (most recent call last):
  File "train_singleTask_CNN_classifier_OCP.py", line 295, in <module>
    main(args)
  File "train_singleTask_CNN_classifier_OCP.py", line 200, in main
    (x_train, y_train, ids_train) = encode_sequence(args.train_fasta_pos, args.train_fasta_neg, size = args.seq_length, shuffleOff = False)
  File "/projects/pfenninggroup/machineLearningForComputationalBiology/snATAC_cross_species_caudate/code/raw_code/cnn_enhancer_ortholog/cnn_utils.py", line 57, in encode_sequence
    ids = ids[indices]
TypeError: only integer scalar arrays can be converted to a scalar index
Running cyclical learning rate for OPC_hgRmMm_enhVsNonEnhOrth.
One-cycle policy training for 23 epochs.
Learning rates range: 0.01 - 0.1.
Momentum rates range: 0.85 - 0.99.
Dropout: 0.3.
In evaluation mode.
No model found with specified training parameters. Please train model first.
